@{
    var html = ViewData["HtmlContent"] as string ?? "";
    var ShowNewsletterForm = (ViewData["ShowNewsletterForm"] as bool?) ?? false;
}

<div id="newsletter-popup" style="display:none;">
    <div class="popup-container">
        <button id="close-popup">✕</button>
        @Html.Raw(html)
        @if(ShowNewsletterForm){
            <form id="custom-newsletter-form" autocomplete="off">
                <input type="email"
                       id="custom-newsletter-email"
                       name="email"
                       placeholder="To email σου"
                       required
                       style="width:80%;margin:10px 0;" />
                <button type="submit" id="custom-newsletter-submit" class="button-1">Εγγραφή</button>
            </form>
        }
        <div id="custom-newsletter-result" style="margin-top:8px;"></div>
    </div>
</div>

<script src="/Plugins/Widgets.NewsletterPopup/Content/js/NewsletterPopupWidget.js" asp-location="Footer"></script>

<style>
    #newsletter-popup {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: none;
        align-items: center;
        justify-content: center;
        background: rgba(0,0,0,0.6);
        z-index: 9999;
    }

    .popup-container {
        background: #fff;
        border-radius: 10px;
        padding: 20px;
        max-width: 400px;
        width: 90%;
        position: relative;
        box-shadow: 0 0 10px rgba(0,0,0,0.2);
        text-align: center;
    }

    #close-popup {
        position: absolute;
        top: 10px;
        right: 10px;
        border: none;
        background: none;
        font-size: 18px;
        cursor: pointer;
    }

    .popup-title {
        font-weight: bold;
        font-size: 1.1em;
    }

    #custom-newsletter-result {
        min-height: 18px;
    }
</style>
